{% extends "layouts/base.html" %}

{% block title %} Forms Advanced {% endblock %} 

<!-- Element injected in the BODY element -->
{% block body_class %} sidebar-mini {% endblock body_class %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="/static/assets/plugins/fontawesome-free/css/all.min.css">
  <!-- Select2 -->
  <link rel="stylesheet" href="/static/assets/plugins/select2/css/select2.min.css">
  <link rel="stylesheet" href="/static/assets/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="/static/assets/css/adminlte.min.css">

{% endblock stylesheets %}

{% block content %}    

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1>Run Lab</h1>
            {% if msg_fail %}
            <div class="alert alert-danger alert-dismissible">
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
              <h5><i class="icon fas fa-ban"></i> Fail to execute the lab!</h5>
              {{msg_fail}}
            </div>
            {% endif %}
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="/">Home</a></li>
              <li class="breadcrumb-item"><a href="#">Labs</a></li>
              <li class="breadcrumb-item active">Run Lab</li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
        <!-- SELECT2 EXAMPLE -->
        <div class="card card-default">
          <div class="card-header">
            <h3 class="card-title">Lab -- {{lab.title}}</h3>
          </div>
          <!-- /.card-header -->
          <div class="card-body">
          <form method="POST">
            <h5>Overall information</h5>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>Lab title</label>
                  <input type="text" class="form-control" disabled="disabled" value="{{lab.title}}"/>
                </div>
                <!-- /.form-group -->
                <div class="form-group">
                  <label>User label</label>
                  <input type="text" class="form-control" disabled="disabled" value="{{current_user.email}}"/>
                </div>
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
              <div class="col-md-6">
                <div class="form-group">
                  <label>Lab category</label>
                  <input type="text" class="form-control" disabled="disabled" value="{{lab.category}}"/>
                </div>
                <!-- /.form-group -->
                <!--
                <div class="form-group">
                  <label>Multi-select example (Do not use!)</label>
                  <div class="select2-purple">
                    <select class="select2" multiple="multiple" data-placeholder="Select a State" data-dropdown-css-class="select2-purple" style="width: 100%;">
                      <option>Salvador</option>
                      <option>Alagoinhas</option>
                      <option>Serra Dourada</option>
                      <option>Lençóis</option>
                      <option>Morro do Chapéu</option>
                      <option>Santo Estêvão</option>
                      <option>Correntina</option>
                    </select>
                  </div>
                </div>
                -->
                <!-- /.form-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->

            <h5>Lab scheduling</h5>
            <div class="row">
              <div class="col-12 col-sm-6">
                <div class="form-group">
                  <label>Lab Duration/Expiration</label>
                  <select name="lab_expiration" class="form-control" required>
                    {% for exp_sec in lab_expirations %}
                    <option value="{{exp_sec}}">{{lab_expirations[exp_sec]}}</option>
                    {% endfor %}
                  </select>
	          <!--
                  <label>Date and time range (use your local timezone):</label>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="far fa-clock"></i></span>
                    </div>
                    <input type="text" class="form-control float-right" id="reservationtime" name="lab_schedule">
                  </div>
		  -->
                  <!-- /.input group -->
                </div>
                <!-- /.form group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="row">
              <button class="btn btn-primary btn-flat" type="submit" id="btn-run-lab">Run</button>
            </div>
            <!-- /.row -->
          </form>
          </div>
          <!-- /.card-body -->
          <div class="card-footer">
            Visit <a href="#">Lab documentation</a> for more information.
          </div>
        </div>
        <!-- /.card -->
      </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <!-- jQuery -->
  <script src="/static/assets/plugins/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="/static/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- Select2 -->
  <script src="/static/assets/plugins/select2/js/select2.full.min.js"></script>
  <!-- InputMask -->
  <script src="/static/assets/plugins/moment/moment.min.js"></script>
  <script src="/static/assets/plugins/inputmask/jquery.inputmask.min.js"></script>
  <!-- Tempusdominus Bootstrap 4 -->
  <script src="/static/assets/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
  <!-- AdminLTE App -->
  <script src="/static/assets/js/adminlte.min.js"></script>
  <!-- Page script -->
  <script>
    $(function () {
      ////Initialize Select2 Elements
      //$('.select2').select2()

      ////Initialize Select2 Elements
      //$('.select2bs4').select2({
      //  theme: 'bootstrap4'
      //})
      $('#btn-run-lab').on('click', function () {
        $("#btn-run-lab").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Starting lab...');
        $("#btn-run-lab").css("pointer-events", "none");
      });
    })
  </script>

{% endblock javascripts %}
